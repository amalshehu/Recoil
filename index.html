<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Recoil</title>
</head>

<body>
  <div id="container">
    <div id='app'></div>
  </div>
</body>
<script type="module">
  import { scaffhold, makeRenderer } from './lib/vDOM.mjs'
  const render = makeRenderer(document.getElementById('app'))

  const greetComponent = ({ name }) =>
    scaffhold('p', {}, [scaffhold('text', { text: `Hello ${name}` })])

  const RootComponent = ({ user }) => {
    return user
      ? (greetComponent, { name: user.name })
      : scaffhold('span', {}, [
        scaffhold('text', { text: `No user, Please login` })
      ])
  }

  let isLogged = false
  setInterval(() => {
    isLogged = !isLogged
    render(
      scaffhold(RootComponent, {
        user: isLogged ? { name: 'Dexter' } : null
      })
    )
  }, 1000)
</script>

</html>